<form class="cv-contents" [formGroup]="formCV">
  <div class="cv-contents-form">
    <div class="form-box">
      <div class="form-box-item-left">
        <div class="form-box-item-list"
             *ngFor="let item of list "
             [ngClass]="{'edit': currentBoxOnShow === item.id}"
             (click)="showBox(item.id)">
          <span>{{item.label}}</span>
          <span>{{item.field_name}}</span>
        </div>
      </div>
      <div class="form-box-item-right">
        <div id="form-box-item-{{item.id}}-popout" class="form-box-item-popout" *ngFor="let item of list "
             [ngClass]="{'edit': currentBoxOnShow === item.id}" [ngSwitch]="item.type">
          <ng-template [ngSwitchCase]="'input'">
            <div class="" [ngClass]="formCV.controls[item.field_name].valid &&
             formCV.controls[item.field_name].dirty ? 'valid': 'invalid'">
              {{formCV.controls[item.field_name].dirty}}
              <p>{{item.description}}</p>
              <span>{{item.label}}</span>
              <input type='text' formControlName="{{item.field_name}}" >
              <button (click)="nextStage()">Continue</button>
            </div>
          </ng-template>
          <ng-template [ngSwitchCase]="'checkbox'">
            <div class="" [ngClass]="formCV.controls[item.field_name].valid &&
             formCV.controls[item.field_name].dirty ? 'valid': 'invalid'">
              {{formCV.controls[item.field_name].dirty}}
              <p>{{item.description}}</p>
              <span>{{item.label}}</span>
              <input type="checkbox" formControlName="{{item.field_name}}" >
              <button (click)="nextStage()">Continue</button>
            </div>
          </ng-template>
          <ng-template [ngSwitchCase]="'file'">
            <div class="" [ngClass]="formCV.controls[item.field_name].valid &&
             formCV.controls[item.field_name].dirty ? 'valid': 'invalid'">
              {{formCV.controls[item.field_name].dirty}}
              <p>{{item.description}}</p>
              <span>{{item.label}}</span>
              <input type="file" formControlName="{{item.field_name}}">
              <button (click)="nextStage()">Continue</button>
            </div>
          </ng-template>
          <ng-template [ngSwitchCase]="'textfield'">
            <div class="" [ngClass]="formCV.controls[item.field_name].valid &&
             formCV.controls[item.field_name].dirty ? 'valid': 'invalid'">
              {{formCV.controls[item.field_name].dirty}}
              <p>{{item.description}}</p>
              <span>{{item.label}}</span>
              <input type="textfield" formControlName="{{item.field_name}}" >
              <button (click)="nextStage()">Continue</button>
            </div>
          </ng-template>
        </div>
        <button (click)="submit()">submit</button>
      </div>
    </div>
  </div>
</form>
